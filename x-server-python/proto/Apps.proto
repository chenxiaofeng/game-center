syntax = "proto2";
//============================================ ??????
/*
???????10=??????, 11=??¡Â???12=???????21=???¦Å?????31=??????32=??????41=?????51=???
????????????¦±????????????????ID????§Õ?????????
			1000=???????????1001=???????
			1100=???????1199=?????
			1200=????????
			2101=???¦²?2102=??????
			3100=???(orderNo??§³??????????)??3101=??????(????)??3102=??????(??????)??
			3200=??????3202=??????(???)??
			4101=?????????4102=??????(???)??4103=??????????(????????????????), 4104=???????????§Ò?4105=??????4106=??????(??????),4107=???????4108=????????4109=????app(?????????????????)
			5101=??????, 5102=???????????????????????ÈÉ????¡ã????????????
?????????0=???-????(??????)??2=????????????????????????????????0??
????????0=???1=?????2=?????3=????4=????...????????????????????????????¡ã??????????
*/

//============================================ ???????????
message ReqGlobalConfig{
	optional string groupsCacheVer = 1;		// ???????·Ú??????§Ý???????????¡¤????????????????
}
message RspGlobalConfig{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	optional int32  thumbPicSwitch = 3;		// ??????????0=??????1=???????2=?????????¦É???3=?????????¦Ï???30????????????
	optional int32	updateCheckRate = 6;	// ???????????????(??¦Ë:min)
	optional int32	recommCheckRate	= 7;	// ???????????????(??¦Ë:min)
	required string groupsServerVer = 4;	// ????????·Ú????0??????????????????¡ã·Ú???????¡¤?GroupCfg???
	optional bytes  groups = 5;				// ???????????
	// ?¡Â???
	// ?????????repeated??????????????????????????????????§¹??
	// ???????????????????????groupClass/groupType/orderType?????????????????groupId???????????????§Ò?
	// ??????¦±?????????????????????????§Ò?????????????????????groupId??????????????????§Ò?
	// ??????????????????????????¦Ç???
	// ????????????????????????????????§»??????????¦Â???????????????
	// ??????????????GroupInfo???groupPicUrl????????startTime??endTime??????????????4105??
}
message Groups{
	repeated GroupInfo groupInfo = 1;		// ???¨²???????????
}
message GroupInfo{
	required int32  groupId = 1;			// ????ID
	required int32  groupClass = 2;			// ???????
	required int32  groupType = 3;			// ????????
	required int32  orderType = 4;			// ????????
	required int32  orderNo = 5;			// ????????????????????
	required string recommWord = 7;			// ??????»Ç?????12??????????????????????...
	required string groupName = 6;			// ???????????/?ÁW...????/????...????/????...???...???????/??????...??
	required string groupDesc = 8;			// ???????????????????????????????????????
	required string groupPicUrl = 9;		// ??????URL
	optional string startTime = 10;			// ??????
	optional string endTime = 11;			// ???????
}

//============================================ ???????????§Ò?
message ReqGroupElems{
	required int32  groupId = 1;			// ????ID
	optional int32  groupClass = 5;			// ???????(??????????)
	optional int32  groupType = 6;			// ????????(??????????)
	optional int32  orderType = 7;			// ????????(??????????)
	required int32  pageSize = 2;			// ???Ä¥?????????????????pageSize??pageIndex??0??
	required int32  pageIndex = 3;			// ???
	optional string clientCacheVer = 4;		// ??????·Ú??????§Ý???????????¡¤????????????????
}
message RspGroupElems{
	required int32  rescode = 1;			// ??????0=?????1=????2=????????...
	required string resmsg = 2;				// ???????
	optional string serverDataVer = 3;		// ?????????·Ú????0??????????????????¡ã·Ú??????????????????
	optional bytes  groupElems = 4;
}
message GroupElems{
	repeated GroupElemInfo groupElemInfo = 1;	// ?????????????????????
}
message GroupElemInfo{
	required int32  groupId = 1;			// ????ID
	required int32  posId = 2;				// ¦Ë??ID??????????§Ò???????????????????????posId??????????????????????????—¨¦Ë??ID????????????§Ò??§Ö????¦Ë???????????????????
	required int32  orderNo = 3;			// ?????????????????????????????§Ò???????????????????—¨?????????????????Ú…??
	required int32  elemType = 4;			// ????????1=App??2=Link??3=?????????[???????????????]??4=????????¦Ë????5=?????????????????????????6 = ??????, 7=????
	optional string showName = 5;			// ???????
	optional string recommWord = 6;			// ?????
	optional int32  recommFlag = 7;			// ????????1=??? 2=??? 4=??? 8=??? 16=??? 32=?? 64=??? 128=???? ....¦Ë????
	optional int32  recommLevel = 8;		// ???????0~10??????????????
	optional string iconUrl = 9;			// ICON???URL
	optional string thumbPicUrl = 10;		// ?????URL
	optional string adsPicUrl = 11;			// ??????URL
	optional string publishTime = 12;		// ???????
	optional int32 	showType = 25;			// ?????(1=???¦Ë)
	optional string startTime = 26;			// ??????(?????????????§Ø?)
	optional string endTime = 27;			// ???????(?????????????§Ø?)

	//---------------------------------------- App
	optional int32  appId = 13;				// ???ID
	optional string packName = 14;			// ?????????
	optional int32  mainPackId = 15;		// ???????ID
	optional int32  mainVerCode = 16;		// ???·Ú????
	optional string mainSignCode = 17;		// ????????????????
	optional string mainVerName = 18;		// ???·Ú??
	optional int32  mainPackSize = 24;		// ?????????§³
	optional string	appTypeName = 28;		// ?????? (??????????App??????????App???????????:????)
	optional int32  downTimes = 29;			// ???????,???????????
	
	//---------------------------------------- Link
	optional int32  jumpLinkId = 19;		// ????ID
	optional string jumpLinkUrl = 20;		// ??????
	
	//---------------------------------------- ????????????¦±??????????
	optional int32  jumpGroupId = 21;		// ????????ID??0=????????????????????-?????????????0=???????-???????????????????????????????
	optional int32  jumpGroupType = 22;		// ????????????
	optional int32  jumpOrderType = 23;		// ????????????????
	
}

//============================================ ???????????????????????
message ReqAppInfo{
	required int32  appId = 1;				// ???ID
	required int32  packId = 2;				// ?????ID??????·Ú????????·Ú???0??
	optional int32  scrType = 3;			// ????????0=??????????????1=???BTN (????????????????????????????)
	optional string clientCacheVer = 4;		// ???????·Ú??????§Ý???????????¡¤????????????????
}
message RspAppInfo{
	required int32  rescode = 1;			// ??????0=?????1=????2=????????3=??¨°???????????
	required string resmsg = 2;				// ???????
	optional string serverCacheVer = 3;		// ?????????·Ú?????0??????????????????¡ã·Ú??????????????????
	optional bytes  appInfo = 4;			// ??????
}
message Permission{
	required string permissionFlag = 1;		// ?????????
}
message AppInfo{
	required int32  appId = 1;				// ???ID
	optional int32  packId = 2;				// ?????ID
	optional string showName = 3;			// ???????
	optional string packName = 4;			// ?????????
	optional string signCode = 5;			// ??????????????????????????????????????
	optional string devName = 6;			// ??????????
	optional string appClass = 7;			// ??????
	optional string appType = 8;			// ?????????????????","????
	optional string downTimes = 9;			// ???????
	optional int32  commentTimes = 10;		// ???????
	optional int32  commentScore = 11;		// ????¡Â?
	optional int32  appTagFlag = 12;		// ???????1=?????2=???—¨4=????????¦Ë????
	optional int32  recommLevel = 13;		// ???????0~10??????????????
	optional int32  recommFlag = 14;		// ????????1=??? 2=??? 4=??? 8=??? 16=??? 32=?? 64=??? 128=???? ....¦Ë????
	optional string recommWord = 15;		// ?????
	optional string thumbPicUrl = 16;		// ?????URL
	optional string iconUrl = 17;			// ICON???URL
	repeated string appPicUrl = 18;			// ?????URL
	optional string packUrl = 19;			// ?????URL
	optional string packMD5 = 20;			// ?????MD5?
	optional int32  packSize = 21;			// ???????§³
	optional int32  verCode = 22;			// ?·Ú????
	optional string verName = 23;			// ?·Ú??
	optional string compDesc = 24;			// ?????????
	optional string lanDesc = 25;			// ???????
	optional string appDesc = 26;			// ???????
	optional string updateDesc = 27;		// ???????
	optional string publishTime = 28;		// ???????
	optional string packUrl2 = 29;			// ?????URL2????????¡ã?????????¨¢???????packUrl??¦²?
	repeated Permission permission = 30;	// ????§Ò?2015-08-27????
}
message AppInfoList{
	repeated AppInfo appInfo = 1;			// ???AppInfo???
}
//============================================ ?????????
//============================================ 2.0 ?????????????????????? 
message ReqDownRes{
	required int32  appId = 1;				// ???ID
	required int32	packId = 2;				// ?????Id
	required int32  downloadRes = 3;		// ????????0=????????1= ???????? 2=???????? 11=?????????? 12=?????§Ø???? 13=????????????????? 14=?????????? 21=?????????????????? 22 ??????????? ??
	optional string remark = 4;				// ???: ??????????????????
	optional string timeConsume = 5;		// ????(ms) (?????????????????)
	optional string downloadSpeed = 6;		// ??????????(kb/s) (?????????????????)
	optional int32  groupId = 7;            // ????id  -- ??????? 2015-09-11 (???????????????????)
}
message RspDownRes{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
}

//============================================ ?????????
message ReqAppsUpdate{
	repeated LocalAppVer localAppVer = 1;	// ????????????·Ú
	optional int32	checkUpdateType =2;		// ???????????0=????????1=???????????2=???????????
}
message RspAppsUpdate{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	optional bytes 	appInfoList = 3;		// ??????????§Ò????
}
message LocalAppVer{
	required string packName = 1;			// ????
	required string verName = 2;			// ?·Ú??
	required int32  verCode = 3;			// ?·Ú????
	optional string signCode = 4;			// ??????????????
}

//============================================ ??????????
message ReqUserApps{
	repeated LocalAppVer localAppVer = 1;	// ????????????·Ú
}
message RspUserApps{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	optional bytes 	appInfoList = 3;		// ?????????????§Ò????
}

//============================================ ????????????????????????§Ò?
message ReqAppList4SearchKey{
	required string SearchKeyStr = 1;		// ?????????
	required int32 	isHotKey = 2;			// ??????????????0=???1=????
	optional int32  appClass = 3;			// ??????0=?????11=????12=???
	optional int32  appType = 4;			// ????????0=???
	optional int32  pageSize = 5;			// ???»Ç???????¡¤??????
	optional int32  pageIndex = 6;			// ???
	optional int32  orderType = 7;			// ?????????0=???-?????2=?????
}
message RspAppList4SearchKey{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	optional bytes  groupElems = 3;			// ??????????
}

//============================================ ??????????????
message ReqUserScoreInfo{
	required int32  appId = 1;				// ???ID
}
message RspUserScoreInfo{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	required bytes  userScoreInfo = 3;		// ???????????
}
message UserScoreInfo{
	optional int32  commentTimes = 1;		// ???????
	optional int32  scoreTimes = 2;			// ???????
	optional int32  scoreSum = 3;			// ???
	optional int32  scoreAvg = 4;			// ???????
	optional int32  scoreTime1 = 5;			// ?????1?????
	optional int32  scoreTime2 = 6;			// ?????2?????
	optional int32  scoreTime3 = 7;			// ?????3?????
	optional int32  scoreTime4 = 8;			// ?????4?????
	optional int32  scoreTime5 = 9;			// ?????5?????
	optional UserCommentInfo userCommentInfo = 10;		// ??????????????????? 
}

//============================================ ????????????§Ò?
message ReqUserComments{
	required int32  appId = 1;				// ???ID
	optional int32  pageSize = 2;			// ???»Ç???????¡¤??????
	optional int32  pageIndex = 3;			// ???
	optional string serverCacheVer = 4;		// ???????·Ú??????§Ý???????????¡¤????????????????
}
message RspUserComments{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	optional string serverCacheVer = 3;		// ?????????·Ú?????0??????????????????¡ã·Ú??????????????????
	optional bytes  userComments = 4;		// ????????§Ò?????
}
message UserComments{
	repeated UserCommentInfo userCommentInfo = 1;	// ??????????????
}
message UserCommentInfo{
	optional int64  commentId = 1;			// ????ID
	optional string userEI = 2;				// ????õô?? -- ?????
	optional string userName = 3;			// ?????
	optional int32  userId = 4;				// ???ID   -- ?????
	optional int32  userScore = 5;			// ???????
	optional int32  localVerCode = 6;		// ???????·Ú????
	optional string localVerName = 7;		// ???????·Ú????
	optional string comments = 8;			// ???????
	optional string commentTime = 9;		// ???????
	optional string openId = 10;            // ???openId
}

//============================================ ???????????????
message ReqAddComment{
	required string userName = 1;			// ?????
	required int32  appId = 2;				// ???ID
	required int32  userScore = 3;			// ???????
	optional int32  userVerCode = 4;		// ???????·Ú????
	optional string userVerName = 5;		// ???????·Ú????
	optional string comments = 6;			// ????????
	optional int32  commentId = 7;			// ????ID????????????????§Õ
}
message RspAddComment{
	required int32  rescode = 1;			// ??????0=?????1=????2=????????3=???§Õ?????4=?????
	required string resmsg = 2;				// ???????
	required int64  commentId = 3;			// ????ID
	optional string userName = 4;			// ?????????????????????+?????
}

//============================================ ????? (2015-08-27????)
message ReqAppInform{
	required int32  appId = 1;				// ???ID
	required string	informType = 2;			// ????????1=????—¨2=????????3=?????????4=?·Ú???5=???????6=§Á??????????????????
	optional string informDetail = 3;		// ????????(??200???)
}
message RspAppInform{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
}

//============================================ ??????? (2015-08-27????)
message ReqFeedback{
	required string	feedBackContent = 1;	// ??????????
	optional string userContact = 2;		// ???????????
}
message RspFeedback{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
}

//============================================ ??????--"????????"(2015-08-27????)
message ReqRecommApp{
	required int32	appId = 1;				// ???ID
	optional string appClass = 2;			// ??????
	optional string appType = 3;			// ???????
	optional int32  pageSize = 4;			// ????
	optional int32  pageIndex = 5;			// ??? (??1???)
	optional int32  orderType = 6;			// ?????????0=???-?????2=?????
	optional string clientCacheVer = 7;		// ??????·Ú??????§Ý???????????¡¤????????????????
}
message RspRecommApp{
	required int32  rescode = 1;			// ??????0=?????1=???
	required string resmsg = 2;				// ???????
	optional string serverDataVer = 3;		// ?????????·Ú????????????·Ú????????????????????¡ã·Ú
	optional bytes  groupElems = 4;			// ??????????
}

//============================================ ??????????§Ò?(?????????????????)
message ReqDistributeApps{
	required int32  groupClass = 1;			// ???????
	required int32  groupType = 2;			// ????????
	optional int32  pageSize = 3;			// ???Ä¥?????????????????pageSize??pageIndex??0??
	optional int32  pageIndex = 4;			// ???
	optional int32  orderType = 5;			// ?????????0=???-?????2=?????
	optional string clientCacheVer = 6;		// ??????·Ú??????§Ý???????????¡¤????????????????
}
message RspDistributeApps{
	required int32  rescode = 1;			// ??????0=?????1=????2=????????...
	required string resmsg = 2;				// ???????
	optional string serverDataVer = 3;		// ?????????·Ú????0??????????????????¡ã·Ú??????????????????
	optional bytes  groupElems = 4;			// GroupElems§¿?????????
}
